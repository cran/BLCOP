<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Francisco Gochez" />

<meta name="date" content="2015-02-05" />

<title>Notes on the BLCOP Package</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Notes on the BLCOP Package</h1>
<h4 class="author">Francisco Gochez</h4>
<h4 class="date">2015-02-05</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The BLCOP package is an implementation of the Black-Litterman and copula opinion pooling frameworks. This vignette gives an overview of these two opinion-blending methods, briefly shows how they are implemented in this package, and closes with a short discussion of how the package may evolve in the future (any feedback would be greatly appreciated).</p>
</div>
<div id="overview-of-the-black-litterman-model" class="section level2">
<h2>Overview of the Black-Litterman model</h2>
<p>The Black-Litterman model was devised in 1992 by Fisher Black and Robert Litterman. Their goal was to create a systematic method of specifying and then incorporating analyst/portfolio manager views into the estimation of market parameters. Let <span class="math inline">\(A = \{a_1, a_2, ...,. a_n \}\)</span> be a set of random variables representing the returns of <span class="math inline">\(n\)</span> assets. In the BL approach, the joint distribution of <span class="math inline">\(A\)</span> is taken to be multivariate normal, i.e. <span class="math inline">\(A \sim N(\mu, \Sigma)\)</span>. The problem they then addressed was that of incorporating an analyst’s views into the estimation of the market mean <span class="math inline">\(\mu\)</span><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>Suppose that we take <span class="math inline">\(\mu\)</span> itself to be a random variable which is itself normally distributed, and moreover that its dispersion is proportional to that of the market.<br />
Then <span class="math display">\[\mu \sim N(\pi, \tau \Sigma), \]</span> and <span class="math inline">\(\pi\)</span> is some underlying parameter which can be determined by the analyst using some established procedure. Black and Litterman argued from equilibrium considerations that this should be obtained from the intercepts of the capital-asset pricing model.</p>
Next, the analyst forms subjective views on the actual mean of the returns for the holding period. This is the part of the model that allows the analyst/portfolio manager to include his or her views. BL proposed that views should be made on linear combinations (i.e. portfolios) of the asset return variable means <span class="math inline">\(\mu\)</span>. Each view would take the form of a “mean plus error” . Thus for example, a typical view would look as follows: <span class="math display">\[ p_{i1} \mu_1 + p_{i2} \mu_2 + ... + p_{in} \mu_n = q_i + \epsilon_i, \]</span> where <span class="math inline">\(\epsilon_i \sim N(0, \sigma_i^2)\)</span>. The standard deviations <span class="math inline">\(\sigma_i^2\)</span> of each view could be taken as controlling the confidence in each view. Collecting these views into a matrix we will call the “pick” matrix, we obtain the “general” view specification <span class="math display">\[P \mu \sim N(\mu, \Omega).\]</span> <span class="math inline">\(\Omega\)</span> is the diagonal matrix <span class="math inline">\(diag(\sigma_1^2, \sigma_2^2, ..., \sigma_2^n)\)</span>. It can be shown (c.f. <span class="citation">(Meucci, n.d.c)</span>, p.5 and appendix), based on Bayes’ Law, that the posterior distribution of the market mean conditional on these views is <span class="math display">\[\mu |_{q; \Omega}  \sim N(\mu_{BL}, \Sigma_{BL}^{\mu}) \]</span> where
<span class="math display">\[\begin{aligned}
\mu_{BL} &amp;= ((\tau \Sigma)^{-1} + P^{T} \Omega^{-1} P ) ^{-1} ((\tau \Sigma)^{-1} \pi + P^{T} \Omega^{-1} q) \\
\Sigma_{BL}^{\mu} &amp;= ((\tau \Sigma)^{-1} + P^{T} \Omega^{-1} P)^{-1} 
\end{aligned}\]</span>
<p>We can then obtain the posterior distribution of the <em>market</em> by taking <span class="math inline">\(A|_{q, \Omega} = \mu|_{q, \Omega} + Z\)</span>, and <span class="math inline">\(Z \sim N(0, \Sigma)\)</span> is independent of <span class="math inline">\(\mu\)</span>. One then obtains that <span class="math inline">\(E[A] = \mu_{BL}\)</span> and <span class="math inline">\(\Sigma_{BL} = \Sigma + \Sigma_{BL}^{\mu}\)</span> (<span class="citation">(Meucci, n.d.c)</span>, p. 5). Let us now see how these ideas are implemented in the <strong>BLCOP</strong> package.</p>
</div>
<div id="using-the-black-litterman-model-in-blcop" class="section level2">
<h2>Using the Black-Litterman model in BLCOP</h2>
<p>The implementation of the Black-Litterman model in BLCOP is based on objects that represent views on the market and objects that represent the posterior distribution of the market after blending the views. We will illustrate this with a simple example. Suppose that an analyst wishes to form views on 6 stocks, 2 of which are technology stocks and the other 4 of which are from the financial sector. Initially, she believes that the average of the 2 tech stocks will outperform one of the financial stocks, say <span class="math inline">\(\frac{1}{2}( \textrm{DELL} + \textrm{IBM}) - \textrm{MS} \sim N(0.06, 0.01)\)</span>. We will create a <strong>BLViews</strong> class object with the <code>BLViews()</code> constructor function. Its arguments are the “pick” matrix, a vector of confidences, the vector “q”, and the the names of the assets in one’s “universe”. Please note that the following examples may require the suggested <code>{fPortfolio}</code> and <code>{mnormt}</code> packages.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(fPortfolio)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="kw">library</span>(BLCOP)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">library</span>(mnormt)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>pickMatrix &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dv">-1</span>, <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">3</span>)), <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">ncol =</span> <span class="dv">6</span> )</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>views &lt;-<span class="st"> </span><span class="kw">BLViews</span>(<span class="dt">P =</span> pickMatrix, <span class="dt">q =</span> <span class="fl">0.06</span>,<span class="dt">confidences =</span>  <span class="dv">100</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="dt">assetNames =</span> <span class="kw">colnames</span>(monthlyReturns))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>views</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="co">#&gt; 1 : 0.5*IBM+-1*MS+0.5*DELL=0.06  + eps. Confidence: 100</span></span></code></pre></div>
<p>Next, we need to determine the “prior” distribution of these assets. The analyst may for instance decide to set these means to 0, and then calculate the variance-covariance matrix of these through some standard estimation procedure (e.g. exponentially weighted moving average). Here we use <code>cov.mve()</code> from the <code>{MASS}</code> package.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>priorMeans &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">6</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>priorVarcov &lt;-<span class="st"> </span>MASS<span class="op">::</span><span class="kw">cov.mve</span>(monthlyReturns)<span class="op">$</span>cov</span></code></pre></div>
<p>We can now calculate the posterior market distribution using the <code>posteriorEst()</code>. This takes as parameters the view object, the prior covariance and mean, and “tau.”<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> The procedure for setting <span class="math inline">\(\tau\)</span> is the subject of some controversy in the literature, but here we shall set it to <span class="math inline">\(1/2\)</span>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>marketPosterior &lt;-<span class="st"> </span><span class="kw">posteriorEst</span>(<span class="dt">views =</span> views, <span class="dt">sigma =</span> priorVarcov,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a> <span class="dt">mu =</span> priorMeans, <span class="dt">tau =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>marketPosterior</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="co">#&gt; Prior means:</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="co">#&gt;  IBM   MS DELL    C  JPM  BAC </span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a><span class="co">#&gt;    0    0    0    0    0    0 </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a><span class="co">#&gt; Posterior means:</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a><span class="co">#&gt;           IBM            MS          DELL             C           JPM </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="co">#&gt;  0.0093803589 -0.0081392850  0.0180135557  0.0004158929 -0.0050501865 </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a><span class="co">#&gt;           BAC </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a><span class="co">#&gt; -0.0026838802 </span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a><span class="co">#&gt; Posterior covariance:</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a><span class="co">#&gt;             IBM          MS        DELL           C         JPM         BAC</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a><span class="co">#&gt; IBM  0.01984881 0.010418973 0.013947613 0.010816285 0.010438039 0.005352560</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a><span class="co">#&gt; MS   0.01041897 0.017997441 0.014331908 0.009602281 0.014598661 0.007356254</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a><span class="co">#&gt; DELL 0.01394761 0.014331908 0.039600997 0.008962812 0.011782713 0.005652306</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a><span class="co">#&gt; C    0.01081628 0.009602281 0.008962812 0.010595394 0.009969597 0.006124685</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true"></a><span class="co">#&gt; JPM  0.01043804 0.014598661 0.011782713 0.009969597 0.019432171 0.008191540</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true"></a><span class="co">#&gt; BAC  0.00535256 0.007356254 0.005652306 0.006124685 0.008191540 0.007810236</span></span></code></pre></div>
<p>Now suppose that we wish to add another view, this time on the average of the four financial stocks. This can be done conveniently with <code>addBLViews()</code> as in the following example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>finViews &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="ot">NULL</span>, <span class="kw">c</span>(<span class="st">&quot;C&quot;</span>,<span class="st">&quot;JPM&quot;</span>,<span class="st">&quot;BAC&quot;</span>,<span class="st">&quot;MS&quot;</span>)))</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>finViews[,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>] &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">4</span>,<span class="dv">4</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>views &lt;-<span class="st"> </span><span class="kw">addBLViews</span>(finViews, <span class="fl">0.15</span>, <span class="dv">90</span>, views)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>views</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="co">#&gt; 1 : 0.5*IBM+-1*MS+0.5*DELL=0.06  + eps. Confidence: 100  </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="co">#&gt; 2 : 0.25*MS+0.25*C+0.25*JPM+0.25*BAC=0.15  + eps. Confidence: 90</span></span></code></pre></div>
<p>We will now recompute the posterior, but this time using the captial asset pricing model to compute the “prior” means. Rather than manually computing these, it is convenient to use the <code>BLPosterior()</code> wrapper function. It will compute these “alphas”, as well as the variance-covariance matrix of a returns series, and will then call <code>poseriorEst()</code> automatically.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>marketPosterior &lt;-<span class="st"> </span><span class="kw">BLPosterior</span>(<span class="kw">as.matrix</span>(monthlyReturns), views, <span class="dt">tau =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>    <span class="dt">marketIndex =</span> <span class="kw">as.matrix</span>(sp500Returns),<span class="dt">riskFree =</span> <span class="kw">as.matrix</span>(US13wTB))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>marketPosterior</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="co">#&gt; Prior means:</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="co">#&gt;         IBM          MS        DELL           C         JPM         BAC </span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a><span class="co">#&gt; 0.020883598 0.059548398 0.017010062 0.014492325 0.027365230 0.002829908 </span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="co">#&gt; Posterior means:</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a><span class="co">#&gt;        IBM         MS       DELL          C        JPM        BAC </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a><span class="co">#&gt; 0.06344562 0.07195806 0.07777653 0.04030821 0.06884519 0.02592776 </span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a><span class="co">#&gt; Posterior covariance:</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a><span class="co">#&gt;              IBM          MS        DELL           C         JPM         BAC</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a><span class="co">#&gt; IBM  0.021334221 0.010575532 0.012465444 0.008518356 0.010605748 0.005281807</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a><span class="co">#&gt; MS   0.010575532 0.031231768 0.017034827 0.012704758 0.014532900 0.008023646</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true"></a><span class="co">#&gt; DELL 0.012465444 0.017034827 0.047250599 0.007386821 0.009352949 0.005086150</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true"></a><span class="co">#&gt; C    0.008518356 0.012704758 0.007386821 0.016267422 0.010968240 0.006365457</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true"></a><span class="co">#&gt; JPM  0.010605748 0.014532900 0.009352949 0.010968240 0.028181136 0.011716834</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true"></a><span class="co">#&gt; BAC  0.005281807 0.008023646 0.005086150 0.006365457 0.011716834 0.011199343</span></span></code></pre></div>
<p>Both <code>BLPosterior()</code> and <code>posteriorEst()</code> have a <strong>kappa</strong> parameter which may be used to replace the matrix <span class="math inline">\(\Omega\)</span> of confidences in the posterior calculation. If it is greater than 0, then <span class="math inline">\(\Omega\)</span> is set to <span class="math inline">\(\kappa P^{T} \Sigma P\)</span> rather than <span class="math inline">\(diag(\sigma_1^2, \sigma_2^2, ..., \sigma_2^n)\)</span>. This choice of <span class="math inline">\(\Omega\)</span> is suggested by several authors, and it leads to the confidences being determined by volatilities of the asset returns.</p>
<p>A user may also be interested in comparing allocations that are optimal under the prior and posterior distributions. The <code>{fPortfolio}</code> package of the Rmetrics project (<span class="citation">(Rmetrics Core Team, n.d.)</span>), for example, has a rich set of functionality available for portfolio optimization. The helper function <code>optimalPortfolios.fPort()</code> was created to wrap these functions for exploratory purposes.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>optPorts &lt;-<span class="st"> </span><span class="kw">optimalPortfolios.fPort</span>(marketPosterior, <span class="dt">optimizer =</span> <span class="st">&quot;tangencyPortfolio&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a>optPorts</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="co">#&gt; $priorOptimPortfolio</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="co">#&gt; Title:</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a><span class="co">#&gt;  MV Tangency Portfolio </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="co">#&gt;  Estimator:         getPriorEstim </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a><span class="co">#&gt;  Solver:            solveRquadprog </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a><span class="co">#&gt;  Optimize:          minRisk </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a><span class="co">#&gt;  Constraints:       LongOnly </span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a><span class="co">#&gt; Portfolio Weights:</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true"></a><span class="co">#&gt;    IBM     MS   DELL      C    JPM    BAC </span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true"></a><span class="co">#&gt; 0.0765 0.9235 0.0000 0.0000 0.0000 0.0000 </span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true"></a><span class="co">#&gt; Covariance Risk Budgets:</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true"></a><span class="co">#&gt;  IBM   MS DELL    C  JPM  BAC </span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true"></a><span class="co">#&gt;                               </span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true"></a><span class="co">#&gt; Target Returns and Risks:</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true"></a><span class="co">#&gt;   mean     mu    Cov  Sigma   CVaR    VaR </span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true"></a><span class="co">#&gt; 0.0000 0.0566        0.1460 0.0000 0.0000 </span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true"></a><span class="co">#&gt; Description:</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true"></a><span class="co">#&gt;  Mon Jan 25 15:30:54 2021 by user: jrussell </span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true"></a><span class="co">#&gt; $posteriorOptimPortfolio</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true"></a><span class="co">#&gt; Title:</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true"></a><span class="co">#&gt;  MV Tangency Portfolio </span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true"></a><span class="co">#&gt;  Estimator:         getPosteriorEstim </span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true"></a><span class="co">#&gt;  Solver:            solveRquadprog </span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true"></a><span class="co">#&gt;  Optimize:          minRisk </span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true"></a><span class="co">#&gt;  Constraints:       LongOnly </span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true"></a><span class="co">#&gt; Portfolio Weights:</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true"></a><span class="co">#&gt;    IBM     MS   DELL      C    JPM    BAC </span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true"></a><span class="co">#&gt; 0.3633 0.1966 0.1622 0.0000 0.2779 0.0000 </span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true"></a><span class="co">#&gt; Covariance Risk Budgets:</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true"></a><span class="co">#&gt;  IBM   MS DELL    C  JPM  BAC </span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true"></a><span class="co">#&gt;                               </span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true"></a><span class="co">#&gt; Target Returns and Risks:</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true"></a><span class="co">#&gt;   mean     mu    Cov  Sigma   CVaR    VaR </span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true"></a><span class="co">#&gt; 0.0000 0.0689        0.1268 0.0000 0.0000 </span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true"></a><span class="co">#&gt; Description:</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true"></a><span class="co">#&gt;  Mon Jan 25 15:30:54 2021 by user: jrussell </span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;class&quot;)</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;BLOptimPortfolios&quot;</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true"></a><span class="kw">weightsPie</span>(optPorts<span class="op">$</span>priorOptimPortfolio)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">weightsPie</span>(optPorts<span class="op">$</span>posteriorOptimPortfolio)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAMAAABrWDzDAAABHVBMVEUAAAAAADoAAGYAOmYAOpAAZrYVZK06AAA6ADo6AGY6OgA6Ojo6OpA6ZpA6ZrY6kNtmAABmADpmAGZmOgBmOjpmZgBmZjpmZmZmkJBmkNtmtttmtv+QOgCQOjqQOmaQZjqQkGaQtpCQttuQ27aQ29uQ2/+Uxd+2ZgC2Zjq2kDq2tpC225C22/+2/7a2//++vr6+vsm+vtS+yd++1OrJvr7JvtTJyd/J3/TR4fPUvr7UvsnUvtTU6vTU6v/bkDrbkGbbkJDbtmbb/9vb///fyb7fycnfydTf9PTf9P/q1L7q/+rq///038n09N/0/+r0//T0///315D3+///tmb/25D/27b/29v/6tT/9N//9PT//7b//9v//+r///T///8YUTCFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAOKklEQVR4nO2dC3vcRhVAx8EmlJY6pTxjl1dxN4XilqTQNpAF6hSSYih0t3XwNvr/P4OZ0Wuk1WgkX1ka7Z7zpV5ZUSWtdHLndTVSCYAANfUJwLxBIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEcMKtDlVx/bnnfMkWdmfKeu75XKSXN9TJ9ni1w9OEpgxA0eghToytqiDsyRZqsOLfL1PIO0aAs2agQWy0qyU0oEojUaNINDuMLBANtIs1I91IEot+YuORj/NI5D+5fW/6YJN/9X9B0p970L7o/TvX/1AqYP7w54JjMPAAhlrNqcHb9+7c565pGw4sr8s7S+pQJajVKDfpb8SiubIwAKZcmt99/BTXTKtdGmmvXnPymP+09ocXXx1mgp0+F7yrl6yRdj6rq4yuTUmmA9DN+OX6kj/0R/H5mOVRhp1kkpkqtarVKCTdMkKpH89+N6v0GeWDC2QtuKHNqgcGjWWrkBpsz6LRa5AyfrNtKCD+TG0QLoJbzwxtRy3XGqNQJqvf/Mj2/SHuTG0QKZabKRZWI+0TvcT0+7aqgOVAh2bhbO0IgSzY/ChjEVaFunaz1H6W60V9mpFILPBwa9P7VZUoufI4AKt0va4jj3Go8279X6gahFmqj933tv8XJleoaFPBUZgxMFUW4TRXN8xxhyNT8szWls7xZgCbR7oJpop0GB3IB8IRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIgYWSMGOMJVAw+4OpgKBQAQCgQgEAhEIBCIQCEQgEIhAIBBR3shvPnnf8MGz0IYDHxdmjXMjnz9JkqtHL/74n9CGAx8X5owTgf70T/Pjc/PRuuHAx90v1q+cX98zIwB3zpPre/pHkmxO7cdMKW/ky6cmAj38FxHoNrECneiFxeHF9RvfNUvrV1/ZCYFsJejhF08/Cm448HGrI6vDHiY6CoFWd86v3/jFkV5a/qQQaHF0y4cf/kpH0QpTXxZU1u9cvHcj0Ely/cbb3z9PNj/77YgCea50weZUKXsSC6UOzmrrNEul9NmvX7so9lj+vyYC/b65ApRMKND84n1bxkPxb0Ida4HOtEbr19cRCaTPYHN6rD+PbZCsrDOn/50zs3ZxUu6xWMrqQM01oIkFaoz3UWLU+LKOI1HxlZYHZ1qg5XGyPM4EWqW2nfh3PsDp+QWy8mpB9KkdXtjP/JSzddnpmz9lANpuhflC0LQRqCneR0iDPI5EZoPiK+mfWqD1a5++dRZHBCqObaLN6vCi8pfVCPSgtGsGEcgb76OjRZ/CoZpAm7d++dpFVALpCo+WZ3n4rq15Js46i6kDrV9391guRlwH2o730dFUdDUpVHwlU6070zfkOIlAoErxqWOMOa2iDpStK5YfnC3LkrZWhLUcWnzy/t0FBWqM91HRwR7Lf5XTsNQCmQrGiF+pSxGmA86JrfLoz8RZly+ujsy9yM95TgLV4n1EdIk+ZRSa8kQDAtlAo6/2yhEoX5dtt7H/iI386R7LPZixsJZDD/QVmnbn695at8b7eOihT9OtG/NM/R2JViDrjLYn/UyLrXxdtt3qKPFEIDsa760ETTGUUelIHD/ed6WnP5MaFMJ0GqbRJ61Em/6gfF26wVtntsq0XQcKwFiYj97+TFyMDUt9LMzXikcgHzfwJ+4g1I8o+oFmjFIf77dBUfREzxf1sWavDXJbYR+ZjMQOGw583Blj/dlvg7Zyon3tMATaJvPnhgLthkFRtMJmmlCW+zMjg24voSwQf25ZoI/LW+GurySRLVSZ1hQFzlnPxiDflXZI+59N/1t2tSvjZG0JZelTGd5Di0/evzuvQE4Smeko3ZzGZJAr0FyqQWGBNqfGEHOlK1d7keUDtSSUTZkP5BWoSCJLx15WMeWzVgSaiUEtAqWDqUv1rTfzUQwnqyy/8G0JZVPmA3kFKpLI4go+hqo/MzEoKNBfz20RZkfjnQHULJ+sNaFswp5ov0BlEpkplGtpcpNS9+eGBsUmUD52aiPQ3VygMvK3JZQFDn3Tc+6wuxaB3CQy7VA8YWhboDkY5LvSTkXZCnR978g0WzKBigCU4kkoSy7ja4XVk8jcXO9pafBnzgIltQhkA/79PImsetm9CWWPnz1/ElsrrEgiS4NoWSpPTJM/czCos0CGQpJKir03oUw3wC4/mqgV5unecpLINqfmSyxjaYU1C3Qjg8YVKJBQlmQCmZhTFlyVVG1vQtnLz55dPYprMLWSRGY6EqOpRXsEit+gMGkEWtlHYdKEsvRH/tf+hLKrh188fd/zZDxjYRV8/tzIoJlfisE3nGR3w9Fp+MQv0A0MivZSdCLqnOgp6DJ80uLP3hlUO/mrvS/CWoZPirpkq0D9DYr2WnShdvJxVaKnoGX45LYEmrVBtXN/8QcE8g6fZALpelGrQPsVgup1IIowz/CJ09kf8Ke/QdFejA5E0QqLKSOxZfgkL8KCAvU1aLwvfXsZiZPmRKt3CirrzSOR6Uxr2Swvd87z7tHa+N5wtAyfdBeop0EjCuS50g7ZUIYzxZ25+HlLoi0j8XKypzL8AqWdoiflXRxDIN/wSQ+B+hkUk0BpRqI7xd31vePiKsSakdgqkJ1aYVSBAsMnXQSK1KAWgSoZie74ezo7Rzp4GmtGYrtA+tuMJ1AHOgnUy6B4BMoyEutT3OVGxZqR2C6QmR0orQMdIZDw1EMCZRe9OsWd0x8fzEj8X4QRyAoUTwTq5k8vgyYXqJ6RWJvirtql2pyR+OJD0wf0fJqMxFkVYV0F6mHQ5AIlWxHIneJufde92M0ZiboG9M3jfzydaJJNT+/EFJXoMN0F6s5o594xocyd4i5ZHTh1Hl9Goml+Xfr7oafpiZ6iGR+mo0BKvaO+3ZHJu0+TmkDuFHe1RHRPRqIVyNsJlEwlUK0jUZ2kq9RR/jnsWXWjS0eiMoXFrATKSf/VOlPcLcv6UeLPSLQCtQSgvRkL60BIoNSeHv5EJVBPEKg/gWyOoqK6XwJNOTvHzGhLaFVuO2efBBpuw0l2NypegVx75loF6ku1J/rPn3ne2YxADp6nCmv67J1AL58+ef7E985mBHJoeix+y579E0hXo58/ievJ1EjZEqjJnjirQLeZUGYj0ESj8f5raYcxsn6IaF6bqoLBJ1qBQgfNkscq09o5093F+s7UgEC2P9q8MiyS16aqUPCJtgQLCeQmj+XT2qXT3YXfmRo6tOC0Q7vrIpD+CtG8NlWFgs8cBXJe95SOc+WD8fb6L9MQ1PrO1E/a+hEjEOgkmtemqrA9MxXIkg5+FaON2xHIk1BmZpjyj4ZNLZAtwmJ5bapqK7r6CjRmu6GLQFnyjzOh6aIc+gollF1Nkw8UECgbUo3ntakd9IkyAHmvdCWhzPpTpjvYepE7RZBviru4I1DS8MjWdOyaQEmhSJ48ViZx2Nwgd8pf3xR38dWBFsd1gWJ5beqAAo3a8xUUqEgec95xWRXI/87UwKEFpx3ana97a3l4sXKyESN6bepsBQpkJG4/hpsXYaF3pkY5Gr85tVUfV6BYXps6WB06rq73Mnksm9bOfFTmmOCdqQMRNGiWAvUnip7oORISaE/8iePJ1FkySDfiDlyGYol3pvak3aD9E4gI1JMBBNqFq1AuUgfqSatBeyjQQBtOsrtJEAu0ExehXLx6pGPQkw4bDnzc+dJi0L7449aBPnt2+Yic6F6Issl25BIUSyYneqK39cwXr0FhgXblChRLL//++eNnRKCe+AwKCrQzF6BcvHr/4b8f81xYTzypQSGB7PeP8omBntAKq9F7auGbPNOTDYVH+cRATxCoRt85iVRjMRbwx2iXhJ4YWEwyd01fEKhG91nRyhu8bVCrQMV3b39iAIFG3N1wdJ+X0bnBW09otAjkZHK1PzGAQCPubji6Ty1cvcEdJ+aoJAK2PDFQeTQ0ZuoZiZrmzuh9FKglAm3f4EoQ8ghUyyNtf2KACDTi7objRkVYigpMTlbVJ/jEAAKNuLvhuEklusQ/O+JWFnvwiQEEGnF3w9G9Gd98g03BVhOoeTKViJ8Y6ENZB/K/JqOy4cDHjY4hphZWVUY46+kov92LD/3ZZMn+CAT9cG9kWzoQAkEjtRs5zctWYL5UbuQlEQh64k6u0PauFQSCRspWWGsVGoGgGfqBQAQCgYj8Rr58GuH0LhA/xY289A3D1zcc+Lgwb9wb+ZxHm6EvtRs5zSytMF+cG2mqQUQg6IdTB/rA+0xYZcOBjwvzZrJWGOwIne/4sALBvoFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEIFAIAKBQAQCgQgEAhEIBCIQCEQgEIhAIBCBQCACgUAEAoEIBAIRCAQiEAhEIBCIQCAQgUAgAoFABAKBCAQCEQgEIhAIRCAQiEAgEPF/ud6HNiFol5gAAAAASUVORK5CYII=" style="display: block; margin: auto;" /></p>
<p>Additional parameters may be passed into function to control the optimization process. Users are referred to the <code>{fPortfolio}</code> package documentation for details.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>optPorts2 &lt;-<span class="st"> </span><span class="kw">optimalPortfolios.fPort</span>(marketPosterior,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>        <span class="dt">constraints =</span> <span class="st">&quot;minW[1:6]=0.1&quot;</span>, <span class="dt">optimizer =</span> <span class="st">&quot;minriskPortfolio&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a>optPorts2</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a><span class="co">#&gt; $priorOptimPortfolio</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a><span class="co">#&gt; Title:</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a><span class="co">#&gt;  MV Minimum Risk Portfolio </span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a><span class="co">#&gt;  Estimator:         getPriorEstim </span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a><span class="co">#&gt;  Solver:            solveRquadprog </span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a><span class="co">#&gt;  Optimize:          minRisk </span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a><span class="co">#&gt;  Constraints:       minW </span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true"></a><span class="co">#&gt; Portfolio Weights:</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true"></a><span class="co">#&gt;    IBM     MS   DELL      C    JPM    BAC </span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true"></a><span class="co">#&gt; 0.1137 0.1000 0.1000 0.1098 0.1000 0.4764 </span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true"></a><span class="co">#&gt; Covariance Risk Budgets:</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true"></a><span class="co">#&gt;  IBM   MS DELL    C  JPM  BAC </span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true"></a><span class="co">#&gt;                               </span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true"></a><span class="co">#&gt; Target Returns and Risks:</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true"></a><span class="co">#&gt;   mean     mu    Cov  Sigma   CVaR    VaR </span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true"></a><span class="co">#&gt; 0.0000 0.0157        0.0864 0.0000 0.0000 </span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true"></a><span class="co">#&gt; Description:</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true"></a><span class="co">#&gt;  Mon Jan 25 15:30:54 2021 by user: jrussell </span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true"></a><span class="co">#&gt; $posteriorOptimPortfolio</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true"></a><span class="co">#&gt; Title:</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true"></a><span class="co">#&gt;  MV Minimum Risk Portfolio </span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true"></a><span class="co">#&gt;  Estimator:         getPosteriorEstim </span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true"></a><span class="co">#&gt;  Solver:            solveRquadprog </span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true"></a><span class="co">#&gt;  Optimize:          minRisk </span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true"></a><span class="co">#&gt;  Constraints:       minW </span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true"></a><span class="co">#&gt; Portfolio Weights:</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true"></a><span class="co">#&gt;    IBM     MS   DELL      C    JPM    BAC </span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true"></a><span class="co">#&gt; 0.1000 0.1000 0.1000 0.1326 0.1000 0.4674 </span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true"></a><span class="co">#&gt; Covariance Risk Budgets:</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true"></a><span class="co">#&gt;  IBM   MS DELL    C  JPM  BAC </span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true"></a><span class="co">#&gt;                               </span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true"></a><span class="co">#&gt; Target Returns and Risks:</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true"></a><span class="co">#&gt;   mean     mu    Cov  Sigma   CVaR    VaR </span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true"></a><span class="co">#&gt; 0.0000 0.0457        0.1008 0.0000 0.0000 </span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true"></a><span class="co">#&gt; Description:</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true"></a><span class="co">#&gt;  Mon Jan 25 15:30:54 2021 by user: jrussell </span></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;class&quot;)</span></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;BLOptimPortfolios&quot;</span></span></code></pre></div>
<p>Finally, density plots of marginal prior and posterior distributions can be generated with <code>densityPlots()</code>. As we will see in the next section, this gives more interesting results when used with copula opinion pooling.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="kw">densityPlots</span>(marketPosterior, <span class="dt">assetsSel =</span> <span class="st">&quot;JPM&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="overview-of-copula-opinion-pooling" class="section level2">
<h2>Overview of Copula Opinion Pooling</h2>
<p>Copula opinion pooling is an alternative way to blend analyst views on market distributions that was developed by Attilio Meucci towards the end of 2005. It is similar to the Black-Litterman model in that it also uses a “pick” matrix to formulate views. However it has several advantages including the following:</p>
<ul>
<li>Views are made on realizations of the market, not on market parameters as in the original formulation of BL</li>
<li>The joint distribution of the market can be any multivariate distribution</li>
<li>Views are not restricted to the normal distribution</li>
<li>The parameters in the model have clearer meanings</li>
<li>The model can easily be generalized to incorporate the views of multiple analysts</li>
</ul>
<p>Nevertheless, all of this comes at a price. We can no longer use closed-form expressions for calculating the posterior distribution of the market and hence must rely on simulation instead. Before proceeding to the implementation however let us look at the theory. Readers are referred to <span class="citation">(Meucci, n.d.b)</span> for a more detailed discussion.</p>
<p>As before, suppose that we have a set of <span class="math inline">\(n\)</span> assets whose returns are represented by a set of random variables <span class="math inline">\(A = \{a_1, a_2, ..., a_n \}\)</span>. As in Black-Litterman, we suppose that <span class="math inline">\(A\)</span> has some prior joint distribution whose c.d.f we will denote by <span class="math inline">\(\Phi_A\)</span>. Denote the marginals of this distribution by <span class="math inline">\(\phi_i\)</span>. An analyst forms his views on linear combinations of future <em>realizations</em> of the values of <span class="math inline">\(A\)</span> by assigning subjective probability distributions to these linear combinations. That is we form views of the form <span class="math inline">\(p_{i,1} a_1 + p_{i,2} a_2 +... + p_{i,n} a_n \sim \theta_i\)</span>, where <span class="math inline">\(\theta_i\)</span> is some distribution. Denote the pick matrix formed by all of these views by <span class="math inline">\(P\)</span> once again. Now, since we have assigned some prior distribution <span class="math inline">\(\Phi_A\)</span> to these assets, it follows that actually the product <span class="math inline">\(V = PA\)</span> inherits a distribution as well, say <span class="math display">\[v_i = p_{i,1} a_1 + p_{i,2} a_2 +... + p_{i,n}a_n \sim \theta_i&#39;\]</span>. In general <span class="math inline">\(\theta_i \neq \theta_i&#39;\)</span> unless one’s views are identical to the market prior. Thus we must somehow resolve this contradiction. A straightforward way of doing this is to take the weighted sum of the two marginal c.d.fs, so i.e. <span class="math inline">\(\hat{\theta_i} = \tau_i \theta_i + (1 - \tau_i) \theta_i&#39;\)</span>, and <span class="math inline">\(\tau_i \in [0,1]\)</span> is a parameter representing our confidence in our subjective views. This is the actual marginal distribution that will be used to determine the market posterior.</p>
<p>The market posterior is actually determined by setting the marginals of distributions of <span class="math inline">\(V\)</span> to <span class="math inline">\(\hat{\theta_i}\)</span>, while using a copula to keep the dependence structure of <span class="math inline">\(V\)</span> intact. Let <span class="math inline">\(V = (v_1, v_2, ..., v_k)\)</span>, where <span class="math inline">\(k\)</span> is the number of views that the analyst has formed. Then <span class="math inline">\(v_i \sim \theta_i&#39;\)</span>. Let <span class="math inline">\(C\)</span> be the copula of <span class="math inline">\(V\)</span> so that <span class="math inline">\(C\)</span> is the joint distribution of <span class="math display">\[(\theta_1&#39;(v_1), \theta_2&#39;(v_2), ..., \theta_k&#39;(v_k)) = (C_1, C_2, ..., C_k)\]</span> if we now take the <span class="math inline">\(\theta_i&#39;\)</span> to be cumulative density functions. Next set <span class="math inline">\(\hat{V}\)</span> as the random variable with the joint distribution $(^{-1} (C_1), ^{-1} (C_2), …, ^{-1} (C_k)) $. The posterior market distribution is obtained by rotating <span class="math inline">\(\hat{V}\)</span> back into market coordinates using the orthogonal complement of <span class="math inline">\(P\)</span>. See <span class="citation">(Meucci, n.d.b)</span>, p.5 for details.</p>
</div>
<div id="cop-in-blcop" class="section level2">
<h2>COP in BLCOP</h2>
<p>Let us now work through a brief example to see how these ideas are implemented in the BLCOP package. First, one again works with objects that hold the view specification, which in the COP case are of class . These can again be created with a constructor function of the same name. However a significant difference is the use of <code>mvdistribution</code> and <code>distribution</code> class objects to specify the prior distribution and view distributions respectively. We will show the use of these in the following example, which is based on the example used in <span class="citation">(Meucci, n.d.b)</span>, p.9. Suppose that we wish to invest in 4 market indices (S&amp;P500, FTSE, CAC and DAX). Meucci suggests a multivariate Student-t distribution with <span class="math inline">\(\nu = 5\)</span> degrees of freedom and dispersion matrix given by: <span class="math display">\[ 10^{-3} \left( \begin{array}{cccc} .376 &amp; .253 &amp; .333 &amp; .397 \\ . &amp;.360 &amp; .360 &amp; .396 \\ . &amp; . &amp; .600 &amp; .578 \\ . &amp; . &amp; . &amp; .775 \end{array} \right).\]</span> He then sets $= w_{eq} $ where <span class="math inline">\(w_{eq}\)</span> is the relative capitilization of the 4 indices and <span class="math inline">\(\delta = 2.5\)</span>. For simplicity we will simply take <span class="math inline">\(w_{eq} = (1/4, 1/4, 1/4, 1/4)\)</span>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>dispersion &lt;-<span class="st"> </span><span class="kw">c</span>(.<span class="dv">376</span>,.<span class="dv">253</span>,.<span class="dv">360</span>,.<span class="dv">333</span>,.<span class="dv">360</span>,.<span class="dv">600</span>,.<span class="dv">397</span>,.<span class="dv">396</span>,.<span class="dv">578</span>,.<span class="dv">775</span>) <span class="op">/</span><span class="st"> </span><span class="dv">1000</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a>sigma &lt;-<span class="st"> </span>BLCOP<span class="op">:::</span><span class="kw">.symmetricMatrix</span>(dispersion, <span class="dt">dim =</span> <span class="dv">4</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>caps &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a>mu &lt;-<span class="st"> </span><span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>sigma <span class="op">%*%</span><span class="st"> </span>caps</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a><span class="kw">dim</span>(mu) &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a>marketDistribution &lt;-<span class="st"> </span><span class="kw">mvdistribution</span>(<span class="st">&quot;mt&quot;</span>, <span class="dt">mean =</span> mu, <span class="dt">S =</span> sigma, <span class="dt">df =</span> <span class="dv">5</span> )</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a><span class="co">#&gt; Warning in mvdistribution(&quot;mt&quot;, mean = mu, S = sigma, df = 5): Some functions</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a><span class="co">#&gt; associated to this distribution could not be found</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a><span class="kw">class</span>(marketDistribution)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;mvdistribution&quot;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;package&quot;)</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;BLCOP&quot;</span></span></code></pre></div>
<p>The class <code>mvdistribution</code> works with R multivariate probability distribution “suffixes”. <code>mt</code> is the R “name”/“suffix” of the multivariate Student-t as found in the package <code>{mnormt}</code>. That is, the sampling function is given by <code>rmt()</code>, the density by <code>dmt()</code>, and so on. The other parameters are those required by the these functions to fully parameterize the multivariate Student-t. The <code>distribution</code> class works with univariate distributions in a similar way and is used to create the view distributions. We continue with the above example by creating a single view on the DAX.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>pick &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="ot">NULL</span>, <span class="kw">c</span>(<span class="st">&quot;SP&quot;</span>, <span class="st">&quot;FTSE&quot;</span>, <span class="st">&quot;CAC&quot;</span>, <span class="st">&quot;DAX&quot;</span>)))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>pick[<span class="dv">1</span>,<span class="st">&quot;DAX&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a>viewDist &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">distribution</span>(<span class="st">&quot;unif&quot;</span>, <span class="dt">min =</span> <span class="fl">-0.02</span>, <span class="dt">max =</span> <span class="dv">0</span>))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a>views &lt;-<span class="st"> </span><span class="kw">COPViews</span>(pick, <span class="dt">viewDist =</span> viewDist, <span class="dt">confidences =</span> <span class="fl">0.2</span>, <span class="dt">assetNames =</span> <span class="kw">c</span>(<span class="st">&quot;SP&quot;</span>, <span class="st">&quot;FTSE&quot;</span>, <span class="st">&quot;CAC&quot;</span>, <span class="st">&quot;DAX&quot;</span>))</span></code></pre></div>
<p>As can be seen, the view distributions are given as a list of <code>distribution</code> class objects, and the confidences set the <span class="math inline">\(tau\)</span>’s described previously. Here we have assigned a <span class="math inline">\(U(-0.02, 0)\)</span> distribution to our view with confidence <span class="math inline">\(0.2\)</span>. Additional views can be added with <code>addCOPViews()</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>newPick &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="kw">dimnames</span>(newPick) &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="ot">NULL</span>, <span class="kw">c</span>(<span class="st">&quot;SP&quot;</span>, <span class="st">&quot;FTSE&quot;</span>))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a>newPick[<span class="dv">1</span>,] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">-1</span>) <span class="co"># add a relative view</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a>views &lt;-<span class="st"> </span><span class="kw">addCOPViews</span>(newPick, <span class="kw">list</span>(<span class="kw">distribution</span>(<span class="st">&quot;norm&quot;</span>, <span class="dt">mean =</span> <span class="fl">0.05</span>, <span class="dt">sd =</span> <span class="fl">0.02</span>)), <span class="fl">0.5</span>, views)</span></code></pre></div>
<p>The posterior is calculated with <code>COPPosterior()</code>, and the updated marginal distributions can be visualized with <code>densityPlots()</code> once again. The calculation is performed by simulation, based on the ideas described in <span class="citation">(Meucci, n.d.a)</span>. The simulations of the posterior distribution are stored in the <code>posteriorSims</code> of the class <code>COPResult</code> that is returned by <code>COPPosterior()</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>marketPosterior &lt;-<span class="st"> </span><span class="kw">COPPosterior</span>(marketDistribution, views, <span class="dt">numSimulations =</span> <span class="dv">50000</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="kw">densityPlots</span>(marketPosterior, <span class="dt">assetsSel =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="future-developments" class="section level2">
<h2>Future developments</h2>
<p>While mostly stable, the code is currently in need of some minor cleanup work and refactoring (e.g. pick matrices are referred to as <code>P</code> in some places and <code>pick</code> in others) as well as improvements in the documentation and examples. Attilio Meucci has also very recently proposed an even more general view-blending method which he calls <em>Entropy Pooling</em> and its inclusion would be another obvious extension of this package’s functionality in the longer term.</p>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="unnumbered">References</h2>
<div id="refs" class="references hanging-indent">
<div id="ref-MeucciCOP2">
<p>Meucci, Attilio. n.d.a. <em>Beyond Black-Litterman in Practice: A Five-Step Recipe to Input Views on Non-Normal Markets</em>. <em>SSRN</em>. <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=872577">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=872577</a>.</p>
</div>
<div id="ref-MeucciCOP">
<p>———. n.d.b. <em>Beyond Black-Litterman: Views on Non-Normal Markets</em>. <em>SSRN</em>. <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=848407">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=848407</a>.</p>
</div>
<div id="ref-MeucciBL">
<p>———. n.d.c. <em>The Black-Litterman Approach: Original Model and Extensions</em>. <em>SSRN</em>. <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1117574">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1117574</a>.</p>
</div>
<div id="ref-fPort">
<p>Rmetrics Core Team, D., Wuertz. n.d. <em>FPortfolio R Package</em>. <a href="https://cran.r-project.org/package=fPortfolio/">https://cran.r-project.org/package=fPortfolio/</a>.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>A. Meucci has reformulated the model in terms of forming views directly on market realization rather than the mean, and in my opinion this formulation is considerably clearer. <span class="citation">(See Meucci, n.d.c)</span>.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>An additional parameter called <strong>kappa</strong> will be discussed shortly<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
